<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏≤‡πÉ‡∏ï‡πâ‡∏ó‡∏∞‡πÄ‡∏•‡∏™‡∏∏‡∏î‡∏™‡∏ß‡∏¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(180deg, #001e3c 0%, #003876 30%, #0066cc 100%);
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        .game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, 
                rgba(0,150,255,0.3) 0%, 
                rgba(0,100,200,0.5) 50%, 
                rgba(0,50,100,0.7) 100%);
            overflow: hidden;
        }

        canvas {
            display: block;
            background: transparent;
        }

        .ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            z-index: 10;
        }

        .instructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            font-size: 18px;
            background: rgba(0,0,0,0.7);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .start-btn {
            margin-top: 20px;
            padding: 15px 30px;
            font-size: 18px;
            background: linear-gradient(45deg, #ff6b6b, #ffa500);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255,107,107,0.4);
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,107,0.6);
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            font-size: 24px;
            background: rgba(0,0,0,0.8);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            display: none;
        }

        .bubbles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .bubble {
            position: absolute;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(173,216,230,0.4) 100%);
            border-radius: 50%;
            animation: float 8s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-10vh) scale(1);
                opacity: 0;
            }
        }

        .seaweed {
            position: absolute;
            bottom: 0;
            width: 20px;
            background: linear-gradient(180deg, #2d8f2d 0%, #1f5f1f 100%);
            border-radius: 10px 10px 0 0;
            animation: sway 4s infinite ease-in-out;
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="bubbles" id="bubbles"></div>
        
        <div class="ui">
            <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></div>
            <div>‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï: <span id="lives">3</span> ‚ù§Ô∏è</div>
        </div>

        <div class="instructions" id="instructions">
            <h2>üê† ‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏≤‡πÉ‡∏ï‡πâ‡∏ó‡∏∞‡πÄ‡∏•‡∏™‡∏∏‡∏î‡∏™‡∏ß‡∏¢ üê†</h2>
            <p>‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏õ‡∏•‡∏≤</p>
            <p>üü° ‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á = +10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
            <p>üî¥ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏•‡∏≤‡∏â‡∏•‡∏≤‡∏° = -1 ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</p>
            <p>üíé ‡πÄ‡∏û‡∏ä‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏© = +50 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
            <button class="start-btn" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
        </div>

        <div class="game-over" id="gameOver">
            <h2>‡πÄ‡∏Å‡∏°‡∏à‡∏ö!</h2>
            <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span id="finalScore">0</span></p>
            <button class="start-btn" onclick="restartGame()">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        </div>

        <canvas id="gameCanvas"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î canvas
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡∏°
        let gameState = 'menu';
        let score = 0;
        let lives = 3;
        let player = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            size: 30,
            speed: 5,
            angle: 0
        };

        let foods = [];
        let enemies = [];
        let gems = [];
        let particles = [];

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ï‡πâ‡∏ô‡πâ‡∏≥
        function createSeaweed() {
            for (let i = 0; i < 10; i++) {
                const seaweed = document.createElement('div');
                seaweed.className = 'seaweed';
                seaweed.style.left = Math.random() * 100 + '%';
                seaweed.style.height = (50 + Math.random() * 100) + 'px';
                seaweed.style.animationDelay = Math.random() * 4 + 's';
                document.querySelector('.game-container').appendChild(seaweed);
            }
        }

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
        function createBubbles() {
            const bubblesContainer = document.getElementById('bubbles');
            setInterval(() => {
                if (gameState === 'playing') {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    bubble.style.left = Math.random() * 100 + '%';
                    bubble.style.width = bubble.style.height = (10 + Math.random() * 30) + 'px';
                    bubble.style.animationDuration = (5 + Math.random() * 5) + 's';
                    bubblesContainer.appendChild(bubble);

                    setTimeout(() => {
                        if (bubble.parentNode) {
                            bubble.parentNode.removeChild(bubble);
                        }
                    }, 8000);
                }
            }, 1000);
        }

        // ‡∏ß‡∏≤‡∏î‡∏õ‡∏•‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
        function drawPlayer() {
            ctx.save();
            ctx.translate(player.x, player.y);
            ctx.rotate(player.angle);

            // ‡πÄ‡∏á‡∏≤‡∏õ‡∏•‡∏≤
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            ctx.beginPath();
            ctx.ellipse(2, 2, player.size, player.size * 0.6, 0, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏ï‡∏±‡∏ß‡∏õ‡∏•‡∏≤
            const gradient = ctx.createLinearGradient(-player.size, 0, player.size, 0);
            gradient.addColorStop(0, '#ff6b6b');
            gradient.addColorStop(0.5, '#ffa500');
            gradient.addColorStop(1, '#ffeb3b');
            
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.ellipse(0, 0, player.size, player.size * 0.6, 0, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏Ñ‡∏£‡∏µ‡∏ö
            ctx.fillStyle = '#ff4757';
            ctx.beginPath();
            ctx.ellipse(-player.size * 0.8, 0, player.size * 0.5, player.size * 0.3, 0, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏ï‡∏≤
            ctx.fillStyle = 'white';
            ctx.beginPath();
            ctx.arc(player.size * 0.3, -player.size * 0.2, 8, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(player.size * 0.4, -player.size * 0.2, 4, 0, Math.PI * 2);
            ctx.fill();

            ctx.restore();
        }

        // ‡∏ß‡∏≤‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£
        function drawFood(food) {
            const gradient = ctx.createRadialGradient(food.x, food.y, 0, food.x, food.y, food.size);
            gradient.addColorStop(0, '#ffeb3b');
            gradient.addColorStop(0.7, '#ffc107');
            gradient.addColorStop(1, '#ff8f00');

            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(food.x, food.y, food.size, 0, Math.PI * 2);
            ctx.fill();

            // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á
            ctx.shadowColor = '#ffeb3b';
            ctx.shadowBlur = 15;
            ctx.fillStyle = 'rgba(255,235,59,0.3)';
            ctx.beginPath();
            ctx.arc(food.x, food.y, food.size + 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
        }

        // ‡∏ß‡∏≤‡∏î‡∏®‡∏±‡∏ï‡∏£‡∏π (‡∏õ‡∏•‡∏≤‡∏â‡∏•‡∏≤‡∏°)
        function drawEnemy(enemy) {
            ctx.save();
            ctx.translate(enemy.x, enemy.y);
            ctx.rotate(enemy.angle);

            // ‡πÄ‡∏á‡∏≤
            ctx.fillStyle = 'rgba(0,0,0,0.4)';
            ctx.beginPath();
            ctx.ellipse(2, 2, enemy.size, enemy.size * 0.5, 0, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏ï‡∏±‡∏ß‡∏â‡∏•‡∏≤‡∏°
            const gradient = ctx.createLinearGradient(-enemy.size, 0, enemy.size, 0);
            gradient.addColorStop(0, '#ff4757');
            gradient.addColorStop(1, '#c44569');
            
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.ellipse(0, 0, enemy.size, enemy.size * 0.5, 0, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏Ñ‡∏£‡∏µ‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏á
            ctx.fillStyle = '#ff3742';
            ctx.beginPath();
            ctx.ellipse(-enemy.size * 0.9, 0, enemy.size * 0.6, enemy.size * 0.3, 0, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏ï‡∏≤
            ctx.fillStyle = 'red';
            ctx.beginPath();
            ctx.arc(enemy.size * 0.3, -enemy.size * 0.1, 6, 0, Math.PI * 2);
            ctx.fill();

            // ‡∏ü‡∏±‡∏ô
            ctx.fillStyle = 'white';
            for (let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.moveTo(enemy.size * 0.6 - i * 8, -5);
                ctx.lineTo(enemy.size * 0.6 - i * 8 + 3, 0);
                ctx.lineTo(enemy.size * 0.6 - i * 8 + 6, -5);
                ctx.fill();
            }

            ctx.restore();
        }

        // ‡∏ß‡∏≤‡∏î‡πÄ‡∏û‡∏ä‡∏£
        function drawGem(gem) {
            ctx.save();
            ctx.translate(gem.x, gem.y);
            ctx.rotate(gem.rotation);

            const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, gem.size);
            gradient.addColorStop(0, '#e91e63');
            gradient.addColorStop(0.5, '#9c27b0');
            gradient.addColorStop(1, '#673ab7');

            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.moveTo(0, -gem.size);
            ctx.lineTo(gem.size * 0.7, -gem.size * 0.3);
            ctx.lineTo(gem.size * 0.7, gem.size * 0.3);
            ctx.lineTo(0, gem.size);
            ctx.lineTo(-gem.size * 0.7, gem.size * 0.3);
            ctx.lineTo(-gem.size * 0.7, -gem.size * 0.3);
            ctx.closePath();
            ctx.fill();

            // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á
            ctx.shadowColor = '#e91e63';
            ctx.shadowBlur = 20;
            ctx.fillStyle = 'rgba(233,30,99,0.3)';
            ctx.beginPath();
            ctx.arc(0, 0, gem.size + 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;

            ctx.restore();
        }

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏≤‡∏£‡πå‡∏ï‡∏¥‡πÄ‡∏Ñ‡∏¥‡∏•
        function createParticles(x, y, color, count = 10) {
            for (let i = 0; i < count; i++) {
                particles.push({
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 10,
                    vy: (Math.random() - 0.5) * 10,
                    size: Math.random() * 5 + 2,
                    color: color,
                    life: 1,
                    decay: 0.02
                });
            }
        }

        // ‡∏ß‡∏≤‡∏î‡∏û‡∏≤‡∏£‡πå‡∏ï‡∏¥‡πÄ‡∏Ñ‡∏¥‡∏•
        function drawParticles() {
            particles.forEach((particle, index) => {
                ctx.save();
                ctx.globalAlpha = particle.life;
                ctx.fillStyle = particle.color;
                ctx.beginPath();
                ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();

                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.life -= particle.decay;
                particle.size *= 0.99;

                if (particle.life <= 0) {
                    particles.splice(index, 1);
                }
            });
        }

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡∏ö‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÉ‡∏ô‡πÄ‡∏Å‡∏°
        function spawnFood() {
            foods.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: 8 + Math.random() * 5,
                collected: false
            });
        }

        function spawnEnemy() {
            const side = Math.random() < 0.5 ? -1 : 1;
            enemies.push({
                x: side === 1 ? -50 : canvas.width + 50,
                y: Math.random() * canvas.height,
                size: 25 + Math.random() * 15,
                speed: 1 + Math.random() * 2,
                angle: side === 1 ? 0 : Math.PI,
                direction: side
            });
        }

        function spawnGem() {
            gems.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: 12,
                rotation: 0,
                collected: false
            });
        }

        // ‡∏Å‡∏≤‡∏£‡∏ä‡∏ô
        function checkCollision(obj1, obj2) {
            const dx = obj1.x - obj2.x;
            const dy = obj1.y - obj2.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            return distance < obj1.size + obj2.size;
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏Å‡∏°
        function update() {
            if (gameState !== 'playing') return;

            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π
            enemies.forEach((enemy, index) => {
                enemy.x += enemy.speed * enemy.direction;
                
                if (enemy.x < -100 || enemy.x > canvas.width + 100) {
                    enemies.splice(index, 1);
                }

                if (checkCollision(player, enemy)) {
                    lives--;
                    createParticles(player.x, player.y, '#ff4757', 15);
                    enemies.splice(index, 1);
                    
                    if (lives <= 0) {
                        gameState = 'gameOver';
                        document.getElementById('finalScore').textContent = score;
                        document.getElementById('gameOver').style.display = 'block';
                    }
                }
            });

            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£
            foods.forEach((food, index) => {
                if (checkCollision(player, food)) {
                    score += 10;
                    createParticles(food.x, food.y, '#ffeb3b', 8);
                    foods.splice(index, 1);
                }
            });

            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏û‡∏ä‡∏£
            gems.forEach((gem, index) => {
                gem.rotation += 0.1;
                
                if (checkCollision(player, gem)) {
                    score += 50;
                    createParticles(gem.x, gem.y, '#e91e63', 12);
                    gems.splice(index, 1);
                }
            });

            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI
            document.getElementById('score').textContent = score;
            document.getElementById('lives').textContent = lives;
        }

        // ‡∏ß‡∏≤‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (gameState === 'playing') {
                foods.forEach(drawFood);
                gems.forEach(drawGem);
                enemies.forEach(drawEnemy);
                drawPlayer();
                drawParticles();
            }
        }

        // ‡∏•‡∏π‡∏õ‡πÄ‡∏Å‡∏°
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏°‡∏≤‡∏™‡πå
        canvas.addEventListener('mousemove', (e) => {
            if (gameState === 'playing') {
                const rect = canvas.getBoundingClientRect();
                const targetX = e.clientX - rect.left;
                const targetY = e.clientY - rect.top;

                const dx = targetX - player.x;
                const dy = targetY - player.y;
                
                player.x += dx * 0.1;
                player.y += dy * 0.1;
                
                player.angle = Math.atan2(dy, dx);
            }
        });

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        function startGame() {
            gameState = 'playing';
            score = 0;
            lives = 3;
            foods = [];
            enemies = [];
            gems = [];
            particles = [];
            
            player.x = canvas.width / 2;
            player.y = canvas.height / 2;

            document.getElementById('instructions').style.display = 'none';
            document.getElementById('gameOver').style.display = 'none';

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡∏ö‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            for (let i = 0; i < 5; i++) {
                spawnFood();
            }

            // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡∏ö‡πÄ‡∏à‡∏Å‡∏ï‡πå
            setInterval(() => {
                if (gameState === 'playing') {
                    if (Math.random() < 0.7) spawnFood();
                    if (Math.random() < 0.3) spawnEnemy();
                    if (Math.random() < 0.1) spawnGem();
                }
            }, 2000);
        }

        function restartGame() {
            startGame();
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        createSeaweed();
        createBubbles();
        gameLoop();

        // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
